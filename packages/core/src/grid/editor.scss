$grid-flex-options: (
	'flex-align-top-left': (
		'flex-start',
		false,
	),
	'flex-align-top-center': (
		'center',
		false,
	),
	'flex-align-top-right': (
		'flex-end',
		false,
	),
	'flex-align-center-left': (
		'flex-start',
		false,
	),
	'flex-align-center-center': (
		'center',
		false,
	),
	'flex-align-center-right': (
		'flex-end',
		false,
	),
	'flex-align-bottom-left': (
		'flex-start',
		false,
	),
	'flex-align-bottom-center': (
		'center',
		false,
	),
	'flex-align-bottom-right': (
		'flex-end',
		false,
	),
);

.edit-post-visual-editor,
.editor-styles-wrapper {
	/*------------------------------------*
		Grid styles
	*------------------------------------*/
	[data-type='yard-blocks/grid'] {
		height: min-content; // Fixes height of the pattern preview window
		min-width: 100%;
	}

	.show-gridlines {
		.yard-blocks-grid-column-container {
			> .yard-blocks-grid-column {
				border: 1px dashed #dddddd;
			}
		}
	}

	.yard-blocks-grid {
		height: 100%;

		> div > .block-editor-inner-blocks > .block-editor-block-list__layout {
			display: flex;
			flex-wrap: wrap;
			margin-right: 0;
			margin-left: 0;
		}

		// Grid options
		.no-gutters {
			[data-type='yard-blocks/grid-column'] {
				padding-right: 0 !important;
				padding-left: 0 !important;
			}
		}

		.columns-equal-height {
			[data-type="yard-blocks/grid-column"] {
				height: auto;
			}

			.column {
				height: 100%;
			}

			.yard-blocks-grid-column {
				height: 100%;
			}
		}

		.block-editor-inner-blocks {
			margin: 0 auto;
		}

		@include wrap-flex-alignment(
			'> .block-editor-inner-blocks > .block-editor-block-list__layout',
			$grid-flex-options
		);
	}

	/*------------------------------------*
		Column styles
	*------------------------------------*/
	[data-type='yard-blocks/grid-column'] {
		height: 100%;
		margin: 15px 0 15px 0;
	}

	.yard-blocks-grid-column {
		min-height: 53px; // Make column easier clickable
		margin-right: 0;
		margin-left: 0;

		.wp-block {
			max-width: 100%; // Remove max-width from blocks inside grid
		}

		// Remove margin from last item in column
		.column > .block-editor-inner-blocks > .block-editor-block-list__layout {
			> :last-child {
				margin-bottom: 0;
			}
		}
	}
}

.block-visibility-overlay {
	display: flex;
	align-items: center;
	justify-content: center;
	position: absolute;
	z-index: 20;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background-color: rgba( 0, 0, 0, 0.7 );
	color: $white;

	&-text {
		font-size: 1.4rem;
		font-weight: $font-weight-bold;
		text-align: center;
	}
}

// Decrease the z-index if the block-visibility-overlay is on the column
.yard-blocks-grid .yard-blocks-grid-column-container .block-visibility-overlay {
	z-index: 10;
}
